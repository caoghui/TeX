%!TEX program = xelatex
\documentclass{article}
\usepackage{listings}
\usepackage{fontspec} % 定制字体
\newfontfamily\menlo{Menlo}
\usepackage{xcolor} % 定制颜色
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\lstset{ %
backgroundcolor=\color{white},      % choose the background color
basicstyle=\footnotesize\ttfamily,  % size of fonts used for the code
columns=fullflexible,
tabsize=4,
breaklines=true,               % automatic line breaking only at whitespace
captionpos=b,                  % sets the caption-position to bottom
commentstyle=\color{mygreen},  % comment style
escapeinside={\%*}{*)},        % if you want to add LaTeX within your code
keywordstyle=\color{blue},     % keyword style
stringstyle=\color{mymauve}\ttfamily,  % string literal style
frame=single,
rulesepcolor=\color{red!20!green!20!blue!20},
% identifierstyle=\color{red},
language=c++,
}
\begin{document}
\begin{lstlisting}[language={[ANSI]C},
        numbers=left,
        numberstyle=\tiny\menlo,
        basicstyle=\small\menlo]
#include <stdio.h>
#include <stdbool.h>
#include <ctype.h>

#define SIZE 26

int
main (int argc, char *argv[])
{
  int array[SIZE];
  int i;
  char c;

  for (i = 0; i < SIZE; i++)
    array[i] = 0;

  while ((c = getchar ()) != EOF)
    {
      if (isupper (c))
        {
          array[c - 'A']++;
        }
    }
  for (i = 0; i < 26; i++)
    printf ("%c:%5d\n", (char) ('A' + i), array[i]);

  return 0;
}
\end{lstlisting}
\end{document}
% Local Variables:
% TeX-engine: xetex
% End: